var $=jQuery;$(document).ready(function(){var userDict={};var mealDict={};var foodMapping={txt1:0,txt2:0,txt3:0,txt4:0,txt5:0,txt6:0,txt7:0};var updateFoodMapping=function(id,change){foodMapping[id]=foodMapping[id]+change};var renderAddMealText=function(){$("#orderButton2").fadeOut().toggleClass("hidden");$("#orderButton1").fadeIn().toggleClass("hidden")};var renderMealText=function(){var numMeals=0;for(var key in foodMapping){if(foodMapping.hasOwnProperty(key)){numMeals+=foodMapping[key]}}var string="pay $"+numMeals*8+" for "+numMeals+" meals";if(numMeals===1){string=string.substring(0,string.length-1)}$("#orderButton2").html(string);if($("#orderButton2").hasClass("hidden")){$("#orderButton2").fadeIn().toggleClass("hidden");$("#orderButton1").fadeOut().toggleClass("hidden")}};var getTextItemId=function(arrowElem){return arrowElem.parent().find(".textItem")[0].id};var updateMealText=function(){var hasMeals=false;for(var key in foodMapping){if(foodMapping.hasOwnProperty(key)){if(foodMapping[key]!==0){hasMeals=true;renderMealText();break}}}if(!hasMeals){renderAddMealText()}};var handleEmail=function(e){var textArea=$(this);if(e.which==13){userDict.email=textArea.val();textArea.fadeOut(function(){textArea.val("").off("keypress");$("#comingSoon").fadeIn().removeClass("hidden")})}};var handleZipcode=function(e){var textArea=$(this);if(e.which==13){userDict.zipCode=textArea.val();textArea.fadeOut(function(){textArea.attr("placeholder","ENTER EMAIL").val("")}).fadeIn();textArea.off("keypress");textArea.keypress(handleEmail)}};var selectDeliveryTime=function(e){var deliveryDate=$(this);deliveryDate.parent().children().each(function(){$(this).removeClass("delivActive")});deliveryDate.addClass("delivActive")};var selectFoodType=function(e){var cuisine=$(this);cuisine.parent().children().each(function(){$(this).removeClass("foodActive")});cuisine.addClass("foodActive")};var upCountNumberInner=function(parent){parent.children().each(function(){var child=$(this);if(child.hasClass("orderCount")){var num=parseInt(child.text(),10);num++;child.text(num);updateFoodMapping(getTextItemId(parent),1);updateMealText()}})};var upCountNumber=function(e){e.preventDefault();e.stopPropagation();var parent=$(this).parent();upCountNumberInner(parent)};var downCountNumber=function(e){e.preventDefault();e.stopPropagation();var arrow=$(this);var parent=arrow.parent();parent.children().each(function(){var child=$(this);if(child.hasClass("orderCount")){var num=parseInt(child.text(),10);num--;child.text(num);if(num==0){arrow.off("click");parent.find(".arrow1").off("click");parent.fadeOut().addClass("noDisplay");parent.trigger("blur")}}});updateFoodMapping(getTextItemId(parent),-1);updateMealText()};var clickToAdd=function(e){var thing=$(this).children(".hoverArrows");if(thing.hasClass("noDisplay")){thing.find(".arrow1").click(upCountNumber);thing.find(".arrow2").click(downCountNumber)}thing.fadeIn().removeClass("noDisplay");upCountNumberInner(thing)};$("#middleText").keypress(handleZipcode);$(".delivDate").click(selectDeliveryTime);$(".foodType").click(selectFoodType);$(".foodText").click(clickToAdd)});